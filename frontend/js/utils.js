export const productsList = [
    { _id: 1, imgPath: "../assets/Products/p1.png", name: "T-Shirt with Tape Details", rating: 4.5, price: "$125", discount: 0.0, availableSizes: ["small", "medium", "large"], categories: ["casual"], arrivalDate: "2025-01-01" },
    { _id: 2, imgPath: "../assets/Products/p2.png", name: "Skinny Fit Jeans", rating: 5, price: "$240", discount: 0.0, availableSizes: ["medium", "large", "xlarge"], categories: ["casual"], arrivalDate: "2025-02-01" },
    { _id: 3, imgPath: "../assets/Products/p3.png", name: "Checkered Shirt", rating: 3, price: "$180", discount: 0.20, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["party"], arrivalDate: "2025-03-01" },
    { _id: 4, imgPath: "../assets/Products/p4.png", name: "Sleeve Striped T-Shirt", rating: 2.5, price: "$130", discount: 0.0, availableSizes: ["xsmall", "small", "medium"], categories: ["casual"], arrivalDate: "2025-04-01" },
    { _id: 5, imgPath: "../assets/Products/p5.png", name: "Gradient Graphic T-shirt", rating: 4.6, price: "$160", discount: 0.3, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual", "party"], arrivalDate: "2024-04-01" },
    { _id: 6, imgPath: "../assets/Products/p6.png", name: "Virtical Stripped Shirt", rating: 4.1, price: "$285", discount: 0.3, availableSizes: ["small", "medium", "large"], categories: ["casual", "party"], arrivalDate: "2024-02-01" },
    { _id: 7, imgPath: "../assets/Products/p7.png", name: "Faded Skinny Jeans", rating: 3.5, price: "$240", discount: 0.1, availableSizes: ["xxsmall", "xsmall", "small"], categories: ["casual"], arrivalDate: "2022-07-01" },
    { _id: 8, imgPath: "../assets/Products/p8.png", name: "Slim Fit Chinos", rating: 4.2, price: "$110", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual"], arrivalDate: "2022-08-01" },
    { _id: 9, imgPath: "../assets/Products/p9.png", name: "Crewneck Sweatshirt", rating: 4.6, price: "$85", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge", "xxxlarge"], categories: ["casual"], arrivalDate: "2022-09-01" },
    { _id: 10, imgPath: "../assets/Products/p10.png", name: "Graphic Print Tee", rating: 4.1, price: "$60", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["casual"], arrivalDate: "2022-10-01" },
    { _id: 11, imgPath: "../assets/Products/p11.png", name: "Puffer Jacket", rating: 4.9, price: "$210", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge", "xxxlarge"], categories: ["casual"], arrivalDate: "2022-11-01" },
    { _id: 12, imgPath: "../assets/Products/p12.png", name: "Linen Shorts", rating: 3.9, price: "$55", discount: 0.0, availableSizes: ["xsmall", "small", "medium"], categories: ["gym"], arrivalDate: "2022-12-01" },

    { _id: 13, imgPath: "../assets/Products/p13.png", name: "Varsity Jacket", rating: 5, price: "$275", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual", "formal"], arrivalDate: "2023-01-01" },
    { _id: 14, imgPath: "../assets/Products/p14.png", name: "Cargo Pants", rating: 4.4, price: "$95", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["casual"], arrivalDate: "2023-02-01" },
    { _id: 15, imgPath: "../assets/Products/p15.png", name: "V-Neck Sweater", rating: 3.8, price: "$80", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["casual"], arrivalDate: "2023-03-01" },
    { _id: 16, imgPath: "../assets/Products/p16.png", name: "Oversized Tee", rating: 4.3, price: "$65", discount: 0.0, availableSizes: ["medium", "large", "xlarge"], categories: ["casual"], arrivalDate: "2023-04-01" },
    { _id: 17, imgPath: "../assets/Products/p17.png", name: "Fleece Joggers", rating: 4.7, price: "$100", discount: 0.0, availableSizes: ["small", "medium", "large", "xxlarge"], categories: ["casual"], arrivalDate: "2023-05-01" },
    { _id: 18, imgPath: "../assets/Products/p18.png", name: "Ripped Jeans", rating: 4.5, price: "$130", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual"], arrivalDate: "2023-06-01" },
    { _id: 19, imgPath: "../assets/Products/p19.png", name: "Turtleneck Sweater", rating: 4.6, price: "$120", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["casual"], arrivalDate: "2023-07-01" },
    { _id: 20, imgPath: "../assets/Products/p20.png", name: "Polo Shirt", rating: 3.7, price: "$75", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["casual"], arrivalDate: "2023-08-01" },
    { _id: 21, imgPath: "../assets/Products/p21.png", name: "Knitted Cardigan", rating: 4.8, price: "$145", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual"], arrivalDate: "2023-09-01" },
    { _id: 22, imgPath: "../assets/Products/p22.png", name: "Tracksuit Set", rating: 4.2, price: "$170", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge", "xxxlarge"], categories: ["casual"], arrivalDate: "2023-10-01" },
    { _id: 23, imgPath: "../assets/Products/p23.png", name: "Tank Top", rating: 3.6, price: "$30", discount: 0.0, availableSizes: ["xxsmall", "xsmall", "small"], categories: ["casual"], arrivalDate: "2023-11-01" },
    { _id: 24, imgPath: "../assets/Products/p24.png", name: "Bomber Jacket", rating: 4.9, price: "$190", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge", "xxxlarge"], categories: ["casual"], arrivalDate: "2023-12-01" },

    { _id: 25, imgPath: "../assets/Products/p25.png", name: "Athletic Shorts", rating: 4.1, price: "$50", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["gym"], arrivalDate: "2024-01-01" },
    { _id: 26, imgPath: "../assets/Products/p26.png", name: "Checked Blazer", rating: 4.7, price: "$200", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["formal"], arrivalDate: "2023-01-01" },
    { _id: 27, imgPath: "../assets/Products/p27.png", name: "Sleeveless Hoodie", rating: 3.5, price: "$70", discount: 0.0, availableSizes: ["small", "medium", "large"], categories: ["casual"], arrivalDate: "2023-02-01" },
    { _id: 28, imgPath: "../assets/Products/p28.png", name: "Flannel Shirt", rating: 4.4, price: "$95", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["party"], arrivalDate: "2023-03-01" },
    { _id: 29, imgPath: "../assets/Products/p29.png", name: "Basic Tee Pack", rating: 4.3, price: "$85", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["casual"], arrivalDate: "2023-04-01" },
    { _id: 30, imgPath: "../assets/Products/p30.png", name: "Longline Shirt", rating: 4.0, price: "$75", discount: 0.0, availableSizes: ["medium", "large", "xlarge"], categories: ["casual"], arrivalDate: "2023-05-01" },
    { _id: 31, imgPath: "../assets/Products/p31.png", name: "Distressed Jeans", rating: 4.2, price: "$140", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual"], arrivalDate: "2023-06-01" },
    { _id: 32, imgPath: "../assets/Products/p32.png", name: "Wool Overcoat", rating: 4.8, price: "$300", discount: 0.0, availableSizes: ["large", "xlarge", "xxlarge", "xxxlarge"], categories: ["formal"], arrivalDate: "2023-07-01" },
    { _id: 33, imgPath: "../assets/Products/p33.png", name: "Colorblock Hoodie", rating: 4.6, price: "$95", discount: 0.0, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["casual", "party"], arrivalDate: "2023-08-01" },
    { _id: 34, imgPath: "../assets/Products/p34.png", name: "Utility Vest", rating: 3.9, price: "$100", discount: 0.0, availableSizes: ["xsmall", "small", "medium"], categories: ["casual"], arrivalDate: "2023-09-01" },
    { _id: 35, imgPath: "../assets/Products/p35.png", name: "Sleeve Logo Tee", rating: 4.1, price: "$60", discount: 0.0, availableSizes: ["xsmall", "small", "medium", "large"], categories: ["casual", "gym"], arrivalDate: "2023-10-01" },
    { _id: 36, imgPath: "../assets/Products/p36.png", name: "Cropped Cargo Pants", rating: 4.5, price: "$115", discount: 0.0, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["casual"], arrivalDate: "2023-11-01" },

    { _id: 37, imgPath: "../assets/Products/p37.png", name: "Button-Up Denim Shirt", rating: 4.3, price: "$95", discount: 0.2, availableSizes: ["small", "medium", "large", "xlarge"], categories: ["formal"], arrivalDate: "2023-12-01" },
    { _id: 38, imgPath: "../assets/Products/p38.png", name: "Fitted Blazer", rating: 4.7, price: "$220", discount: 0.15, availableSizes: ["medium", "large", "xlarge", "xxlarge"], categories: ["formal"], arrivalDate: "2024-01-01" },
    { _id: 39, imgPath: "../assets/Products/p39.png", name: "Cotton Hoodie", rating: 4, price: "$90", discount: 0.0, availableSizes: ["medium", "large", "xxlarge"], categories: ["casual"], arrivalDate: "2022-05-01" },
    { _id: 40, imgPath: "../assets/Products/p40.png", name: "Striped Crop Top", rating: 3.9, price: "$45", discount: 0.25, availableSizes: ["xxsmall", "xsmall", "small"], categories: ["casual", "party"], arrivalDate: "2024-03-01" },
    { _id: 41, imgPath: "../assets/Products/p41.png", name: "Denim Jacket", rating: 4.8, price: "$160", discount: 0.0, availableSizes: ["small", "medium", "large", "xxlarge"], categories: ["casual", "formal"], arrivalDate: "2022-06-01" },
    { _id: 42, imgPath: "../assets/Products/p42.png", name: "Faux Leather Skirt", rating: 4.2, price: "$70", discount: 0.12, availableSizes: ["xsmall", "small", "medium"], categories: ["casual", "party"], arrivalDate: "2024-05-01" }
];
export async function fetchProducts() {
    return productsList;
}

export async function fetchProductById(id) {
    console.log(id);
    const product = productsList.find((product) => product._id == id);
    if (!product) {
        throw new Error("Product not found");
    }
    return product;
}

export function filterProducts(productsList, filters){
    let filteredProducts = productsList.filter((product) => {
        
        const price = parseInt(product.price.slice(1));
        if(filters.minPrice > price || filters.maxPrice < price) {
            return false;
        }

        for(let size in filters.sizes) {
            if(filters.sizes[size] && !product.availableSizes.includes(size)) {
                return false;
            }
        }

        for(let style in filters.styles) {
            if(filters.styles[style] && !product.categories.includes(style)) {
                return false;
            }
        }

        if(filters.rating > product.rating) {
            return false;
        }

        return true;
    });
    return filteredProducts;
}

export function specialSearchProducts(productsList, searchTerm) {
    
    if (searchTerm.toLowerCase() == "new") {
        return productsList.sort((a, b) => {
            return new Date(b.arrivalDate) - new Date(a.arrivalDate);
        }).slice(0, 10);
    }
    
    if (searchTerm.toLowerCase() == "sale"){
        return productsList.filter((product) => {
            return product.discount > 0;
        }).sort((a, b) => {
            return new Date(a.id) - new Date(b.id);
        });
    }

    if (searchTerm.toLowerCase() == "all"){
        return productsList;
    }
    
    return [];
}

export function keyFilterProducts(productsList, keyFilter){
    let [key, value] = keyFilter.split("-");
    return productsList.filter((product) => {
        return product[key].includes(value);
    })
}

export function searchProducts(productsList, searchTerm) {
    return productsList.filter((product) => {
        return product.name.toLowerCase().includes(searchTerm.toLowerCase());
    });
}